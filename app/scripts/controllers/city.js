'use strict';

/**
 * @ngdoc function
 * @name weatherappNgApp.controller:CityCtrl
 * @description
 * # CityCtrl
 * Controller of the weatherappNgApp
 */
angular.module('weatherappNgApp')
  .controller('CityCtrl', function ($scope, localDateFilter, $window, useUSUnits) {
    $scope.city = {
        id: 'sanjose',
        name: 'San Jose',
        lat: 37.3382082,
        lng: -121.88632860000001,
        lastUpdated: -1,
        weatherData: {"latitude":37.3382082,"longitude":-121.88632860000001,"timezone":"America/Los_Angeles","offset":-8,"currently":{"time":1425757453,"summary":"Clear","icon":"clear-day","nearestStormDistance":262,"nearestStormBearing":349,"precipIntensity":0,"precipProbability":0,"temperature":68.9,"apparentTemperature":68.9,"dewPoint":41.07,"humidity":0.36,"windSpeed":2.53,"windBearing":335,"visibility":10,"cloudCover":0,"pressure":1019.42,"ozone":326.52},"minutely":{"summary":"Clear for the hour.","icon":"clear-day","data":[{"time":1425757440,"precipIntensity":0,"precipProbability":0},{"time":1425757500,"precipIntensity":0,"precipProbability":0},{"time":1425757560,"precipIntensity":0,"precipProbability":0},{"time":1425757620,"precipIntensity":0,"precipProbability":0},{"time":1425757680,"precipIntensity":0,"precipProbability":0},{"time":1425757740,"precipIntensity":0,"precipProbability":0},{"time":1425757800,"precipIntensity":0,"precipProbability":0},{"time":1425757860,"precipIntensity":0,"precipProbability":0},{"time":1425757920,"precipIntensity":0,"precipProbability":0},{"time":1425757980,"precipIntensity":0,"precipProbability":0},{"time":1425758040,"precipIntensity":0,"precipProbability":0},{"time":1425758100,"precipIntensity":0,"precipProbability":0},{"time":1425758160,"precipIntensity":0,"precipProbability":0},{"time":1425758220,"precipIntensity":0,"precipProbability":0},{"time":1425758280,"precipIntensity":0,"precipProbability":0},{"time":1425758340,"precipIntensity":0,"precipProbability":0},{"time":1425758400,"precipIntensity":0,"precipProbability":0},{"time":1425758460,"precipIntensity":0,"precipProbability":0},{"time":1425758520,"precipIntensity":0,"precipProbability":0},{"time":1425758580,"precipIntensity":0,"precipProbability":0},{"time":1425758640,"precipIntensity":0,"precipProbability":0},{"time":1425758700,"precipIntensity":0,"precipProbability":0},{"time":1425758760,"precipIntensity":0,"precipProbability":0},{"time":1425758820,"precipIntensity":0,"precipProbability":0},{"time":1425758880,"precipIntensity":0,"precipProbability":0},{"time":1425758940,"precipIntensity":0,"precipProbability":0},{"time":1425759000,"precipIntensity":0,"precipProbability":0},{"time":1425759060,"precipIntensity":0,"precipProbability":0},{"time":1425759120,"precipIntensity":0,"precipProbability":0},{"time":1425759180,"precipIntensity":0,"precipProbability":0},{"time":1425759240,"precipIntensity":0,"precipProbability":0},{"time":1425759300,"precipIntensity":0,"precipProbability":0},{"time":1425759360,"precipIntensity":0,"precipProbability":0},{"time":1425759420,"precipIntensity":0,"precipProbability":0},{"time":1425759480,"precipIntensity":0,"precipProbability":0},{"time":1425759540,"precipIntensity":0,"precipProbability":0},{"time":1425759600,"precipIntensity":0,"precipProbability":0},{"time":1425759660,"precipIntensity":0,"precipProbability":0},{"time":1425759720,"precipIntensity":0,"precipProbability":0},{"time":1425759780,"precipIntensity":0,"precipProbability":0},{"time":1425759840,"precipIntensity":0,"precipProbability":0},{"time":1425759900,"precipIntensity":0,"precipProbability":0},{"time":1425759960,"precipIntensity":0,"precipProbability":0},{"time":1425760020,"precipIntensity":0,"precipProbability":0},{"time":1425760080,"precipIntensity":0,"precipProbability":0},{"time":1425760140,"precipIntensity":0,"precipProbability":0},{"time":1425760200,"precipIntensity":0,"precipProbability":0},{"time":1425760260,"precipIntensity":0,"precipProbability":0},{"time":1425760320,"precipIntensity":0,"precipProbability":0},{"time":1425760380,"precipIntensity":0,"precipProbability":0},{"time":1425760440,"precipIntensity":0,"precipProbability":0},{"time":1425760500,"precipIntensity":0,"precipProbability":0},{"time":1425760560,"precipIntensity":0,"precipProbability":0},{"time":1425760620,"precipIntensity":0,"precipProbability":0},{"time":1425760680,"precipIntensity":0,"precipProbability":0},{"time":1425760740,"precipIntensity":0,"precipProbability":0},{"time":1425760800,"precipIntensity":0,"precipProbability":0},{"time":1425760860,"precipIntensity":0,"precipProbability":0},{"time":1425760920,"precipIntensity":0,"precipProbability":0},{"time":1425760980,"precipIntensity":0,"precipProbability":0},{"time":1425761040,"precipIntensity":0,"precipProbability":0}]},"hourly":{"summary":"Clear throughout the day.","icon":"clear-day","data":[{"time":1425754800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":67.36,"apparentTemperature":67.36,"dewPoint":40.18,"humidity":0.37,"windSpeed":1.89,"windBearing":11,"visibility":10,"cloudCover":0,"pressure":1019.55,"ozone":326.65},{"time":1425758400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":69.45,"apparentTemperature":69.45,"dewPoint":41.38,"humidity":0.36,"windSpeed":2.92,"windBearing":327,"visibility":10,"cloudCover":0,"pressure":1019.37,"ozone":326.47},{"time":1425762000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":71.33,"apparentTemperature":71.33,"dewPoint":42.51,"humidity":0.35,"windSpeed":4.27,"windBearing":323,"visibility":10,"cloudCover":0,"pressure":1018.96,"ozone":326.09},{"time":1425765600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":72.61,"apparentTemperature":72.61,"dewPoint":43.4,"humidity":0.35,"windSpeed":5.59,"windBearing":324,"visibility":10,"cloudCover":0,"pressure":1018.26,"ozone":325.46},{"time":1425769200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":73.02,"apparentTemperature":73.02,"dewPoint":44.01,"humidity":0.35,"windSpeed":6.09,"windBearing":326,"visibility":10,"cloudCover":0,"pressure":1017.44,"ozone":324.63},{"time":1425772800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":72.4,"apparentTemperature":72.4,"dewPoint":44.78,"humidity":0.37,"windSpeed":6.61,"windBearing":327,"visibility":10,"cloudCover":0,"pressure":1016.88,"ozone":323.73},{"time":1425776400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":69.41,"apparentTemperature":69.41,"dewPoint":46.26,"humidity":0.44,"windSpeed":6.55,"windBearing":327,"visibility":10,"cloudCover":0.04,"pressure":1016.64,"ozone":322.76},{"time":1425780000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.39,"apparentTemperature":64.39,"dewPoint":47.19,"humidity":0.54,"windSpeed":5.83,"windBearing":323,"visibility":9.98,"cloudCover":0.04,"pressure":1016.99,"ozone":321.72},{"time":1425783600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":60.05,"apparentTemperature":60.05,"dewPoint":47.5,"humidity":0.63,"windSpeed":4.99,"windBearing":324,"visibility":9.87,"cloudCover":0,"pressure":1017.34,"ozone":320.67},{"time":1425787200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":57.37,"apparentTemperature":57.37,"dewPoint":47.03,"humidity":0.68,"windSpeed":3.99,"windBearing":324,"visibility":9.85,"cloudCover":0,"pressure":1017.65,"ozone":319.63},{"time":1425790800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":55.54,"apparentTemperature":55.54,"dewPoint":46.65,"humidity":0.72,"windSpeed":2.87,"windBearing":323,"visibility":9.85,"cloudCover":0,"pressure":1017.96,"ozone":318.59},{"time":1425794400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":54.3,"apparentTemperature":54.3,"dewPoint":46.03,"humidity":0.74,"windSpeed":2.42,"windBearing":318,"visibility":9.82,"cloudCover":0.01,"pressure":1018.22,"ozone":317.63},{"time":1425798000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":52.74,"apparentTemperature":52.74,"dewPoint":45.05,"humidity":0.75,"windSpeed":2.24,"windBearing":310,"visibility":9.84,"cloudCover":0.02,"pressure":1018.43,"ozone":316.76},{"time":1425801600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":51.41,"apparentTemperature":51.41,"dewPoint":44.03,"humidity":0.76,"windSpeed":1.33,"windBearing":321,"visibility":9.82,"cloudCover":0.03,"pressure":1018.6,"ozone":315.97},{"time":1425805200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":50.07,"apparentTemperature":50.07,"dewPoint":43.23,"humidity":0.77,"windSpeed":1.02,"windBearing":335,"visibility":9.76,"cloudCover":0.04,"pressure":1018.68,"ozone":315.36},{"time":1425808800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":49.06,"apparentTemperature":49.06,"dewPoint":42.34,"humidity":0.78,"windSpeed":0.91,"windBearing":338,"visibility":9.75,"cloudCover":0.05,"pressure":1018.6,"ozone":314.92},{"time":1425812400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":48.23,"apparentTemperature":48.23,"dewPoint":41.28,"humidity":0.77,"windSpeed":0.33,"windBearing":346,"visibility":9.77,"cloudCover":0.05,"pressure":1018.43,"ozone":314.67},{"time":1425816000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":48.44,"apparentTemperature":48.44,"dewPoint":41.33,"humidity":0.76,"windSpeed":0.24,"windBearing":70,"visibility":9.79,"cloudCover":0.1,"pressure":1018.36,"ozone":314.72},{"time":1425819600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":48.22,"apparentTemperature":48.22,"dewPoint":42.12,"humidity":0.79,"windSpeed":0.31,"windBearing":80,"visibility":9.87,"cloudCover":0.1,"pressure":1018.44,"ozone":315.28},{"time":1425823200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":47.7,"apparentTemperature":47.7,"dewPoint":42.11,"humidity":0.81,"windSpeed":0.13,"windBearing":82,"visibility":9.93,"cloudCover":0.11,"pressure":1018.6,"ozone":316.13},{"time":1425826800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":48.4,"apparentTemperature":48.4,"dewPoint":42.49,"humidity":0.8,"windSpeed":0.17,"windBearing":61,"visibility":9.96,"cloudCover":0.1,"pressure":1018.79,"ozone":316.83},{"time":1425830400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":51.84,"apparentTemperature":51.84,"dewPoint":44.5,"humidity":0.76,"windSpeed":0.5,"windBearing":310,"visibility":9.98,"cloudCover":0.1,"pressure":1019.07,"ozone":317.17},{"time":1425834000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":56.85,"apparentTemperature":56.85,"dewPoint":46.82,"humidity":0.69,"windSpeed":1.81,"windBearing":302,"visibility":10,"cloudCover":0.14,"pressure":1019.37,"ozone":317.35},{"time":1425837600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":61,"apparentTemperature":61,"dewPoint":48.51,"humidity":0.63,"windSpeed":2.74,"windBearing":312,"visibility":10,"cloudCover":0.13,"pressure":1019.48,"ozone":317.54},{"time":1425841200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.43,"apparentTemperature":64.43,"dewPoint":48.83,"humidity":0.57,"windSpeed":3.36,"windBearing":318,"visibility":10,"cloudCover":0.09,"pressure":1019.23,"ozone":317.72},{"time":1425844800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":66.85,"apparentTemperature":66.85,"dewPoint":49.52,"humidity":0.54,"windSpeed":4.15,"windBearing":321,"visibility":10,"cloudCover":0.09,"pressure":1018.78,"ozone":317.9},{"time":1425848400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":68.76,"apparentTemperature":68.76,"dewPoint":49.93,"humidity":0.51,"windSpeed":5.16,"windBearing":321,"visibility":10,"cloudCover":0.09,"pressure":1018.34,"ozone":318.26},{"time":1425852000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":69.61,"apparentTemperature":69.61,"dewPoint":50.29,"humidity":0.5,"windSpeed":6.54,"windBearing":318,"visibility":10,"cloudCover":0.11,"pressure":1017.94,"ozone":318.88},{"time":1425855600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":69.45,"apparentTemperature":69.45,"dewPoint":50.75,"humidity":0.51,"windSpeed":8.06,"windBearing":316,"visibility":10,"cloudCover":0.12,"pressure":1017.57,"ozone":319.68},{"time":1425859200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":68.49,"apparentTemperature":68.49,"dewPoint":51.51,"humidity":0.55,"windSpeed":9.09,"windBearing":312,"visibility":10,"cloudCover":0.13,"pressure":1017.4,"ozone":320.46},{"time":1425862800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":65.16,"apparentTemperature":65.16,"dewPoint":51.87,"humidity":0.62,"windSpeed":8.08,"windBearing":312,"visibility":10,"cloudCover":0.12,"pressure":1017.53,"ozone":321.24},{"time":1425866400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":60.63,"apparentTemperature":60.63,"dewPoint":51.56,"humidity":0.72,"windSpeed":6.17,"windBearing":314,"visibility":10,"cloudCover":0.09,"pressure":1017.84,"ozone":322.02},{"time":1425870000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":56.42,"apparentTemperature":56.42,"dewPoint":50.13,"humidity":0.79,"windSpeed":4.56,"windBearing":316,"visibility":10,"cloudCover":0.08,"pressure":1018.13,"ozone":322.64},{"time":1425873600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":54.56,"apparentTemperature":54.56,"dewPoint":49.09,"humidity":0.82,"windSpeed":3.75,"windBearing":315,"visibility":10,"cloudCover":0.1,"pressure":1018.36,"ozone":323.12},{"time":1425877200,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":53.36,"apparentTemperature":53.36,"dewPoint":47.77,"humidity":0.81,"windSpeed":3.25,"windBearing":312,"visibility":10,"cloudCover":0.15,"pressure":1018.55,"ozone":323.44},{"time":1425880800,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":52.17,"apparentTemperature":52.17,"dewPoint":46.37,"humidity":0.81,"windSpeed":2.89,"windBearing":310,"visibility":10,"cloudCover":0.18,"pressure":1018.57,"ozone":323.42},{"time":1425884400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":50.86,"apparentTemperature":50.86,"dewPoint":45.07,"humidity":0.8,"windSpeed":2.53,"windBearing":312,"visibility":9.88,"cloudCover":0.22,"pressure":1018.3,"ozone":322.84},{"time":1425888000,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":49.56,"apparentTemperature":49.56,"dewPoint":43.73,"humidity":0.8,"windSpeed":2.24,"windBearing":317,"visibility":9.72,"cloudCover":0.25,"pressure":1017.83,"ozone":321.91},{"time":1425891600,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":48.51,"apparentTemperature":48.51,"dewPoint":42.6,"humidity":0.8,"windSpeed":1.95,"windBearing":324,"visibility":9.6,"cloudCover":0.27,"pressure":1017.4,"ozone":321.15},{"time":1425895200,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":47.98,"apparentTemperature":47.98,"dewPoint":41.85,"humidity":0.79,"windSpeed":1.72,"windBearing":327,"visibility":9.56,"cloudCover":0.27,"pressure":1017.18,"ozone":320.9},{"time":1425898800,"summary":"Partly Cloudy","icon":"partly-cloudy-night","precipIntensity":0,"precipProbability":0,"temperature":47.76,"apparentTemperature":47.76,"dewPoint":41.32,"humidity":0.78,"windSpeed":1.66,"windBearing":322,"visibility":9.55,"cloudCover":0.25,"pressure":1017.07,"ozone":320.81},{"time":1425902400,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":47.72,"apparentTemperature":47.72,"dewPoint":41.01,"humidity":0.77,"windSpeed":1.53,"windBearing":321,"visibility":9.55,"cloudCover":0.24,"pressure":1017.13,"ozone":320.33},{"time":1425906000,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":47.53,"apparentTemperature":47.53,"dewPoint":40.91,"humidity":0.78,"windSpeed":1.33,"windBearing":328,"visibility":9.55,"cloudCover":0.22,"pressure":1017.42,"ozone":319.04},{"time":1425909600,"summary":"Clear","icon":"clear-night","precipIntensity":0,"precipProbability":0,"temperature":47.48,"apparentTemperature":47.48,"dewPoint":41,"humidity":0.78,"windSpeed":1.17,"windBearing":340,"visibility":9.56,"cloudCover":0.2,"pressure":1017.81,"ozone":317.36},{"time":1425913200,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":48.76,"apparentTemperature":48.76,"dewPoint":41.74,"humidity":0.77,"windSpeed":1.12,"windBearing":342,"visibility":9.6,"cloudCover":0.18,"pressure":1018.06,"ozone":316.01},{"time":1425916800,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":52.09,"apparentTemperature":52.09,"dewPoint":43.3,"humidity":0.72,"windSpeed":1.12,"windBearing":331,"visibility":9.72,"cloudCover":0.14,"pressure":1018.07,"ozone":315.46},{"time":1425920400,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":56.81,"apparentTemperature":56.81,"dewPoint":45.42,"humidity":0.66,"windSpeed":1.37,"windBearing":322,"visibility":9.88,"cloudCover":0.11,"pressure":1017.92,"ozone":315.25},{"time":1425924000,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":61.04,"apparentTemperature":61.04,"dewPoint":47.11,"humidity":0.6,"windSpeed":1.69,"windBearing":320,"visibility":10,"cloudCover":0.09,"pressure":1017.62,"ozone":314.66},{"time":1425927600,"summary":"Clear","icon":"clear-day","precipIntensity":0,"precipProbability":0,"temperature":64.57,"apparentTemperature":64.57,"dewPoint":48.4,"humidity":0.56,"windSpeed":2.04,"windBearing":328,"visibility":10,"cloudCover":0.11,"pressure":1017.13,"ozone":313.34}]},"daily":{"summary":"No precipitation throughout the week, with temperatures bottoming out at 68Â°F on Wednesday.","icon":"clear-day","data":[{"time":1425715200,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1425738716,"sunsetTime":1425780487,"moonPhase":0.56,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":44.48,"temperatureMinTime":1425736800,"temperatureMax":73.02,"temperatureMaxTime":1425769200,"apparentTemperatureMin":42.33,"apparentTemperatureMinTime":1425733200,"apparentTemperatureMax":73.02,"apparentTemperatureMaxTime":1425769200,"dewPoint":41.31,"humidity":0.57,"windSpeed":1.41,"windBearing":341,"visibility":9.94,"cloudCover":0.01,"pressure":1018.86,"ozone":322.41},{"time":1425801600,"summary":"Partly cloudy overnight.","icon":"partly-cloudy-night","sunriseTime":1425825029,"sunsetTime":1425866944,"moonPhase":0.59,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":47.7,"temperatureMinTime":1425823200,"temperatureMax":69.61,"temperatureMaxTime":1425852000,"apparentTemperatureMin":47.7,"apparentTemperatureMinTime":1425823200,"apparentTemperatureMax":69.61,"apparentTemperatureMaxTime":1425852000,"dewPoint":46.8,"humidity":0.7,"windSpeed":3.17,"windBearing":316,"visibility":9.94,"cloudCover":0.1,"pressure":1018.46,"ozone":318.47},{"time":1425884400,"summary":"Clear throughout the day.","icon":"clear-day","sunriseTime":1425911342,"sunsetTime":1425953400,"moonPhase":0.62,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":47.48,"temperatureMinTime":1425909600,"temperatureMax":72.52,"temperatureMaxTime":1425942000,"apparentTemperatureMin":47.48,"apparentTemperatureMinTime":1425909600,"apparentTemperatureMax":72.52,"apparentTemperatureMaxTime":1425942000,"dewPoint":47.03,"humidity":0.69,"windSpeed":2.42,"windBearing":325,"visibility":9.84,"cloudCover":0.18,"pressure":1016.35,"ozone":311.98},{"time":1425970800,"summary":"Mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1425997654,"sunsetTime":1426039857,"moonPhase":0.66,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":53.53,"temperatureMinTime":1425996000,"temperatureMax":72.37,"temperatureMaxTime":1426021200,"apparentTemperatureMin":53.53,"apparentTemperatureMinTime":1425996000,"apparentTemperatureMax":72.37,"apparentTemperatureMaxTime":1426021200,"dewPoint":47.51,"humidity":0.61,"windSpeed":4.13,"windBearing":178,"visibility":10,"cloudCover":0.78,"pressure":1013.48,"ozone":295.86},{"time":1426057200,"summary":"Partly cloudy until evening.","icon":"partly-cloudy-day","sunriseTime":1426083965,"sunsetTime":1426126312,"moonPhase":0.69,"precipIntensity":0.0026,"precipIntensityMax":0.0041,"precipIntensityMaxTime":1426096800,"precipProbability":0.11,"precipType":"rain","temperatureMin":47.48,"temperatureMinTime":1426078800,"temperatureMax":68.46,"temperatureMaxTime":1426111200,"apparentTemperatureMin":46.55,"apparentTemperatureMinTime":1426078800,"apparentTemperatureMax":68.46,"apparentTemperatureMaxTime":1426111200,"dewPoint":47.11,"humidity":0.67,"windSpeed":5.22,"windBearing":190,"cloudCover":0.47,"pressure":1016.59,"ozone":306.72},{"time":1426143600,"summary":"Mostly cloudy starting in the evening.","icon":"partly-cloudy-night","sunriseTime":1426170277,"sunsetTime":1426212768,"moonPhase":0.72,"precipIntensity":0.001,"precipIntensityMax":0.0016,"precipIntensityMaxTime":1426183200,"precipProbability":0.02,"precipType":"rain","temperatureMin":46.88,"temperatureMinTime":1426168800,"temperatureMax":74.5,"temperatureMaxTime":1426201200,"apparentTemperatureMin":46.88,"apparentTemperatureMinTime":1426168800,"apparentTemperatureMax":74.5,"apparentTemperatureMaxTime":1426201200,"dewPoint":50.71,"humidity":0.76,"windSpeed":3.1,"windBearing":335,"cloudCover":0.1,"pressure":1020.54,"ozone":315.46},{"time":1426230000,"summary":"Mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1426256587,"sunsetTime":1426299223,"moonPhase":0.76,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":46.44,"temperatureMinTime":1426248000,"temperatureMax":81.6,"temperatureMaxTime":1426287600,"apparentTemperatureMin":46.44,"apparentTemperatureMinTime":1426248000,"apparentTemperatureMax":80.58,"apparentTemperatureMaxTime":1426287600,"dewPoint":48.08,"humidity":0.65,"windSpeed":1.44,"windBearing":320,"cloudCover":0.69,"pressure":1017.27,"ozone":300.57},{"time":1426316400,"summary":"Mostly cloudy throughout the day.","icon":"partly-cloudy-day","sunriseTime":1426342898,"sunsetTime":1426385678,"moonPhase":0.79,"precipIntensity":0,"precipIntensityMax":0,"precipProbability":0,"temperatureMin":51.01,"temperatureMinTime":1426341600,"temperatureMax":69.57,"temperatureMaxTime":1426377600,"apparentTemperatureMin":51.01,"apparentTemperatureMinTime":1426341600,"apparentTemperatureMax":69.57,"apparentTemperatureMaxTime":1426377600,"dewPoint":50.37,"humidity":0.73,"windSpeed":3.64,"windBearing":340,"cloudCover":0.93,"pressure":1017.25,"ozone":289.34}]},"flags":{"sources":["nwspa","isd","darksky","nearest-precip","sref","fnmoc","rtma","rap","nam","cmc","gfs","madis","lamp"],"isd-stations":["724945-23293","724946-93232","724946-99999","745090-23244","999999-23293"],"darksky-stations":["KMUX"],"madis-stations":["AS249","C2750","C4115","C7293","D2128","D2458","D8509","E1607","E3976","E4970","E5689","KRHV","KSJC","RJSC1","SJS01","UP626"],"lamp-stations":["KHWD","KLVK","KNUQ","KOAK","KPAO","KRHV","KSFO","KSJC","KSQL","KWVI"],"units":"us"}}
      };

    $scope.localDateFilter = localDateFilter;
    $scope.Math = $window.Math;
    $scope.useUSUnits = useUSUnits;

    $scope.relativeDate = function(localDate) {
      var diff = Math.round((localDate.getTime() - new Date().getTime()) / (24 * 3600 * 1000)),
        relativeDate = 'Today';
      if (diff < 0) {
        relativeDate = 'Yesterday';
      } else if (diff > 0) {
        relativeDate = 'Tomorrow';
      }
      return relativeDate;
    };
  });
